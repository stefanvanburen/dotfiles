# set tmux prefix to be <C-f>, not the default of <C-b>
unbind C-b
set -g prefix C-f
bind C-f send-prefix

# for refreshing .tmux.conf
bind r source-file ~/.config/tmux/tmux.conf

# for copying and pasting
bind -T copy-mode-vi v send-keys -X begin-selection
bind -T copy-mode-vi y send-keys -X copy-selection
bind -T copy-mode-vi C-v send-keys -X rectangle-toggle

# turn on mouse mode - useful for some things
set -g mouse on

# https://vi.stackexchange.com/questions/444/how-do-i-reload-the-current-file
set -g focus-events on

# for vim
set -s escape-time 0

# https://github.com/folke/lsp-colors.nvim#making-undercurls-work-properly-in-tmux
set -g default-terminal "${TERM}"
set -as terminal-overrides ',*:Smulx=\E[4::%p1%dm'  # undercurl support
set -as terminal-overrides ',*:Setulc=\E[58::2::%p1%{65536}%/%d::%p1%{256}%/%{255}%&%d::%p1%{255}%&%d%;m'  # underscore colours - needs tmux-3.0

# set base tmux pane and session to be 1
set -g base-index 1
set -g pane-base-index 1

# renumber windows as lower windows are killed
set -g renumber-windows on

# manually set history-limit
set -g history-limit 100000

# This puts yanks on the system clipboard
set -g set-clipboard on

# trying this on for size
set -g status-justify centre

# how often to refresh status line
set -g status-interval 60

# invert current window in status bar
set -g window-status-current-style "reverse"

# set status-bar
set -g status-left "#{session_name}"
set -g status-right "%a %h-%d %R"

# tmux-pain-control style bindings

# Use vi-style key bindings to navigate between panes
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R
# also bind the control variants, because it's common to still have control
# held down after hitting C-f for prefix.
bind C-h select-pane -L
bind C-j select-pane -D
bind C-k select-pane -U
bind C-l select-pane -R

# Use prefix + \ and prefix + - to split the current pane
bind \\ split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"

# Use prefix + | and prefix + _ to split the current window along its full
# height/width
bind | split-window -f -h -c "#{pane_current_path}"
bind _ split-window -f -v -c "#{pane_current_path}"

# New windows should start in the same directory as the current one
bind c new-window -c "#{pane_current_path}"

# Use prefix + < or prefix + > to move windows
bind < swap-window -d -t -1
bind > swap-window -d -t +1
